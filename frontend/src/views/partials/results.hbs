<div class="output-box">
  <ul class="list-group list-group-flush mb-0">
    {{!-- Untersuchungen --}}
    <li class="list-group-item">
      <div class="d-flex justify-content-between align-items-center">
        <strong class="me-2">Untersuchungen:</strong>
        <button
          id="toggleExams"
          class="btn btn-sm btn-outline-secondary"
          aria-expanded="false"
        >
          <i class="bi bi-chevron-down"></i>
        </button>
      </div>
      <ul
        id="examsList"
        class="list-group list-group-flush mt-2"
        style="display: none;"
      >
        {{#each exams}}
          <li class="list-group-item">{{this}}</li>
        {{/each}}
      </ul>
    </li>

    {{!-- Experten --}}
    <li class="list-group-item">
      <strong class="me-2">Experten:</strong>
      {{#if experts.length}}
        {{experts.join ", "}}
      {{else}}
        â€“
      {{/if}}
    </li>
  </ul>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const btn = document.getElementById("toggleExams");
    const list = document.getElementById("examsList");
    btn?.addEventListener("click", () => {
      const expanded = btn.getAttribute("aria-expanded") === "true";
      btn.setAttribute("aria-expanded", String(!expanded));
      list.style.display = expanded ? "none" : "block";
      btn.querySelector("i").classList.toggle("bi-chevron-down");
      btn.querySelector("i").classList.toggle("bi-chevron-up");
    });
  });
</script>
