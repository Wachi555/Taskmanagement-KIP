<div class="d-flex justify-content-between align-items-center mb-4" style="margin-top: 2rem;">
  <a href="/new-patient" class="btn btn-primary">
    <i class="bi bi-plus-circle me-2"></i> Neuen Patienten anlegen
  </a>
</div>

<hr class="mb-4" style="border-top: 2px solid #dee2e6;" />

<div class="row bg-light rounded py-4">

  <!-- Linke Spalte: Alle Patienten -->
  <div class="col-md-6 border-end pe-4">
    <h4 class="mb-3">Alle Patienten</h4>
    <input type="text" id="search-all" class="form-control mb-3" placeholder="Alle Patienten suchen…" />
    <ul class="list-group">
      {{#each allPatients}}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span class="patient-name">{{this.name}}</span>
        </li>
      {{/each}}

      {{#unless allPatients.length}}
        <li class="list-group-item text-muted text-center">Keine Patienten vorhanden</li>
      {{/unless}}
    </ul>
  </div>

<!-- Rechte Spalte: Wartende & Aktive -->
<div class="col-md-6" id="pane-main">

  <!-- Wartende Patienten -->
  <div id="pane-waiting" class="mb-4">
    <h4 class="mb-2">Wartende Patienten</h4>
    <input type="text" id="search-waiting" class="form-control mb-3" placeholder="Wartende Patienten suchen…" />
    <ul class="list-group">
      {{#each waitingPatients}}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span class="patient-name">{{this.name}}</span>
          <span class="d-flex align-items-center">
            <span class="triage-indicator me-2">
              <span class="triage-circle level-{{this.triage}} active"></span>
            </span>
            <button class="btn btn-icon-only move-to-active"
                    data-name="{{this.name}}"
                    data-triage="{{this.triage}}">
              <i class="bi bi-arrow-down-circle"></i>
            </button>
          </span>
        </li>
      {{/each}}

      {{#unless waitingPatients.length}}
        <li class="list-group-item text-muted text-center">Keine wartenden Patienten</li>
      {{/unless}}
    </ul>
  </div>

  <!-- Aktive Patienten -->
  <div>
    <h4 class="mb-2">In Behandlung</h4>
    <input type="text" id="search-active" class="form-control mb-3" placeholder="In Behandlung suchen…" />
    <ul id="active-patient-list" class="list-group">
      {{#each activePatients}}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <a href="/patient/{{encodeURIComponent this.name}}" class="text-decoration-none patient-name">
            {{this.name}}
          </a>
          <span class="triage-indicator">
            <span class="triage-circle level-{{this.triage}} active"></span>
          </span>
        </li>
      {{/each}}

      {{#unless activePatients.length}}
        <li class="list-group-item text-muted text-center">Keine aktiven Patienten</li>
      {{/unless}}
    </ul>
  </div>

</div>
>
</div>

<script src="/js/main.js"></script>
